<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>{{ page.title }} | Formid'Alpes</title>
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <link rel="icon" type="image/png" href="/favicon.png">
    
    <link rel="stylesheet" href="/style.css"> 
    
    </head>
<body>
    <header>
        {% include header.html %}
    </header>

    <main>
        {{ content }}
    </main>

    <footer>
        {% include footer.html %}
    </footer>
    
	<script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Fade in animation on scroll
        function animateOnScroll() {
            const elements = document.querySelectorAll('.fade-in');
            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                
                if (elementTop < window.innerHeight - elementVisible) {
                    element.classList.add('visible');
                }
            });
        }

        window.addEventListener('scroll', animateOnScroll);
        animateOnScroll(); // Initial check

        function addTestimonial(event) {
            event.preventDefault();
            
            const form = event.target;
            const name = form.testimonialName.value;
            const job = form.testimonialJob.value;
            const text = form.testimonialText.value;
            
            // Create new testimonial element
            const testimonialContainer = document.querySelector('.testimonial-container');
            const newTestimonial = document.createElement('div');
            newTestimonial.className = 'testimonial-item';
            newTestimonial.innerHTML = `
                <div class="testimonial-content">
                    <p>"${text}"</p>
                    <div class="testimonial-author">
                        <strong>${name}</strong>
                        <span>${job}</span>
                    </div>
                </div>
            `;
            
            testimonialContainer.appendChild(newTestimonial);
            
            // Reset form and hide it
            form.reset();
            hideTestimonialForm();
            
            // Show success message
            alert('Merci pour votre témoignage ! Il a été ajouté avec succès.');
        }
        
        // Header background on scroll
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            
            // Si le défilement est supérieur à 100 pixels
            if (window.scrollY > 100) {
                // AJOUTE la classe CSS 'scrolled-header'
                header.classList.add('scrolled-header');
            } else {
                // RETIRE la classe CSS 'scrolled-header'
                header.classList.remove('scrolled-header');
            }
        });
    </script>
    </body>
</html>